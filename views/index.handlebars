<div class="container">
  <div class="row">
    <div class="col-md-12">
          <h1>Burger Wish List!</h1>
        {{!-- this will have a pic and some header --}}
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md-6">
      <h2>Burgers Invented!</h2>
      <ul>
        {{#each burgers}}
          {{#unless this.devoured}}
            {{!-- {{> burgers/burger-block devoured=true}} --}}
            <div><button class="burgName" disabled="true" style="width: 200px; height: 40px; margin: 10px">{{this.burger}}</button>
              <button class="devour" data-id="{{this.id}}" data-devoured="false">Devour it!</button>
            </div>
          {{/unless}}
        {{/each}}
      </ul>
    </div>

    <div class="col-md-6">
      <h2>Burgers Devoured!</h2>
      <ul>
        {{#each burgers}}
          {{#if this.devoured}}
            {{!-- {{> cats/cat-block sleep=false}} --}}
            <div><button class="burgName" disabled="true" style="width: 200px; height: 40px; margin: 10px">{{this.burger}}</div>
          {{/if}}
        {{/each}}
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <h2>Add a Burger</h2>
    <hr>
    <form class="create-form">
      <div class="form-group">
        <label for="burgerName">Burger Name:</label>
        <input id="burger" type="text" name="burgerName" placeholder="Enter a burger name"><br>
      </div>
      <button type="submit">Add Burger</button>
    </form>
  </div>
</div>
<script>

{{!-- creates a new burger --}}
$(".create-form").on("submit", function(event) {
// Make sure to preventDefault on a submit event.
event.preventDefault();
var newBurger = {
  name: $("#burger").val().trim()
};

// Send the POST request.
$.ajax("/api/burger", {
  type: "POST",
  data: newBurger
}).then(
  function() {
    // Reload the page to get the updated list
    location.reload();
  });
});

{{!-- devours a created burger --}}
$(".devour").on("click", function(event) {
var id = $(this).data("id");

// Send the DELETE request.
$.ajax("/api/burger/" + id, {
  type: "PUT"
}).then(
  function() {
    // Reload the page to get the updated list
    location.reload();
  }
);
});
</script>